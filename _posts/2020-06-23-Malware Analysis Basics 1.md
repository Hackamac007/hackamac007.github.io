---
layout: post
title: Malware Analysis - Part 1
subtitle: Overview and Notes
cover-img: /assets/img/path.jpg
tags: [Malware Analysis, Revese Engineering, Security]
---

#### Background on Malware Analysis 

As a malware researcher, a significant part of our research process is dedicated to reversing cryptographic algorithms for extracting the decrypted content. Revealing this content provides an access to the core parts of the malware which includes but not limited to -

```
Strings
Windows API calls
DGA Algorithms
Communication protocols
Financial malware – Includes the list of targeted institutions and webinjects.
```



**Static**
		Basic
			§ File identification (Will help you decide tools to use) - ALWAYS VERIFY
				Types
					Plain text
					Structered(Binary files)
				Hashes
					Most common - MD5(128), SH1(160), SH256(256 bits)
					Other
						Fuzzy (Used for Polymorphic malwares)
							It works by segmenting the file, hashing those segments, and doing some math calculations against them to generate a                      value. Then, when they are compared to other. Eg- SSDEEP
						Import (PE)
						Section(PE)
				Strings( pestudio)
					ASCII - 7 bit, In implementation, we use Extended ASCII - 1 byte 
					Unicode - 2 bytes, UTF-16
			§ Scanners and Sandboxes
          Cuckoo
          DeepFreeze
          Any.run
			§ File format Analysis 
				□ PE -Portable Executable
			§ Identifying Obfuscation (Modification could be done in many ways Code , Structure, Encryption / encoding)
				□ Abnormal PE Sections( 0 size in .text , Used by packers)
				□ APIs used(Peid tool )
				□ Entropy(to check randomness)
		Advanced - Using disassembler to analyze low-level instructions
	
**Dynamic**
		Basic - Executes in sandbox and relies upon tools results
		Advanced - Debugging and control execution of program
		
Free EDR tools 
	Osquery(hybrid)
	GRR

**IOCs**
		YARA - Each rule consists of a set of strings and a Boolean expression, which determines its logic.				
	  Writing good YARA rules - [Rules](https://www.nextron-systems.com/2015/02/16/write-simple-sound-yara-rules/)

Reverse Engineering 101 - [Link](https://malwareunicorn.org/workshops/re101.html#0)  
Hands-on Challenges - [Reference](http://flare-on.com/)  
How to become a Malware Analyst Guide - [Medium link](https://medium.com/@bit.malware/how-to-become-a-malware-analyst-ac8bc5ddc8f7)
